###  简单的网络延迟探测程序

通过HTTP API的方式增加目标IP、获取探测结果。probe程序周期性探测目标IP延迟并把结果存储到数据库(SQLite)中。如果本地有多个IP地址，则分别探测这些IP和目标IP的延迟。

探测方式有四种，依次是ICMP、TCP、UDP和Trace，优先使用ICMP的ping方式。

1. ICMP   
发送ICMP至目标IP，获取延迟数据。默认的探测方式。
2. TCP   
向目标IP发送SYN数据包，等待ACK数据包或者出错数据包以判断延迟。
3. UDP   
向目标IP随机高端口发送UDP数据包，等待出错数据包以判断延迟。
4. Trace Router   
以上各种方式都失败的情况下采用Trace Router的方式探测。将最后一跳的数据作为最终结果。

#### 探测周期

探测周期由外部控制，增加目标IP同时设置探测周期。

#### API说明   

其他程序使用HTTP与probe进行交互：增加目标IP或者获取探测结果。

##### 错误码说明


错误码      | 说明    
----------:|-----------
0          | 成功
1          | 参数非法
Other      | 失败

##### 探测结果格式

字段名      |说明   
-----------|-------------------
DestIP     |目标地址
SrcIP      |源地址
Type       |探测方式
Delay      |最近延迟，列表格式。每个延迟结果由延迟和探测时间两项组成。



##### 增加目标IP地址:请求

字段名      |格式               |说明   
-----------|------------------|-------------------
DestIP     |列表               |目标地址列表
SrcIP      |N/A               |使用这个IP作为源地址探测目标IP。如果为空则用本地所有IP进行探测。
Interval   |数字               |探测周期，单位秒。如果小于300设置为300。默认24小时。
WaitIP     |列表               |等待这些IP的探测结果
TimeOut    |数字               |等待探测结果超时时间，最大30秒。

##### 增加目标IP地址:返回

字段名      |格式               |说明   
-----------|------------------|-------------------
Error      |N/A               |错误码
Add        |数字               |新增目标IP数量
Update     |数字               |更新目标IP数量
Fail       |列表               |不成功的地址
Delay      |结果列表            |

##### 获取探测结果:请求

字段名      |格式               |说明   
-----------|------------------|-------------------
DestIP     |列表               |目标IP列表

##### 获取探测结果:返回

字段名      |格式               |说明   
-----------|------------------|-------------------
Error      |错误码             |
Result     |结果列表            | 

